<section class="mat-dialog-container">
  <h2>Add User</h2>
  <form [formGroup]="userForm" (ngSubmit)="onSave()">
    <label>Username:</label>
    <input type="text" formControlName="username" name="username" required />
    <div *ngIf="userForm.get('username')?.invalid && userForm.get('username')?.touched">
      <small *ngIf="userForm.get('username')?.errors?.['required']">Username is required.</small>
      <small *ngIf="userForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters long.</small>
    </div>

    <label>Email:</label>
    <input type="email" formControlName="email" name="email" required />
    <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched">
      <small *ngIf="userForm.get('email')?.errors?.['required']">Email is required.</small>
      <small *ngIf="userForm.get('email')?.errors?.['email']">Invalid email format.</small>
    </div>

    <label>Role:</label>
    <mat-select formControlName="role">
      <mat-option *ngFor="let role of roles" [value]="role">
        {{ role }}
      </mat-option>
    </mat-select>
    <div *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.touched">
      <small *ngIf="userForm.get('role')?.errors?.['required']">Role is required.</small>
    </div>

    <div class="d-flex justify-content-between">
      <label>Is Active:</label>
      <input type="checkbox" formControlName="isActive" name="isActive" />
    </div>

    <button type="submit" [disabled]="userForm.invalid">Save</button>
    <button type="button" (click)="onCancel()">Cancel</button>
  </form>
</section>
