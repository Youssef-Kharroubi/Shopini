<section class="mat-dialog-container">
  <h2>Update Product</h2>
  <form [formGroup]="productForm" (ngSubmit)="onSave()">
    <label>Name:</label>
    <input type="text" formControlName="name" name="name" required />
    <div *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched">
      <small *ngIf="productForm.get('name')?.errors?.['required']">Name is required.</small>
      <small *ngIf="productForm.get('name')?.errors?.['minlength']">Name must be at least 3 characters long.</small>
    </div>

    <label>Price:</label>
    <input type="number" formControlName="price" name="price" required />
    <div *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched">
      <small *ngIf="productForm.get('price')?.errors?.['required']">Price is required.</small>
      <small *ngIf="productForm.get('price')?.errors?.['min']">Price must be a positive number.</small>
    </div>

    <label>Photo URL:</label>
    <input type="text" formControlName="image" name="image" required />
    <div *ngIf="productForm.get('image')?.invalid && productForm.get('image')?.touched">
      <small *ngIf="productForm.get('price')?.errors?.['required']">Price is required.</small>
      <small *ngIf="productForm.get('price')?.errors?.['min']">Price must be a positive number.</small>
    </div>

    <div class="d-flex justify-content-between">
      <label>is Available:</label>
      <input type="checkbox" formControlName="isAvailable" name="isAvailable" />
    </div>

    <label>Description:</label>
    <input type="text" formControlName="description" name="description" required />
    <div *ngIf="productForm.get('description')?.invalid && productForm.get('description')?.touched">
      <small *ngIf="productForm.get('description')?.errors?.['required']">Description is required.</small>
      <small *ngIf="productForm.get('description')?.errors?.['minlength']">Description must be at least 10 characters long.</small>
    </div>

    <div class="d-flex justify-content-between">
      <label>Category</label>
      <mat-select formControlName="category">
        <mat-option *ngFor="let category of categories" [value]="category">
          {{ category }}
        </mat-option>
      </mat-select>
      <div *ngIf="productForm.get('category')?.invalid && productForm.get('category')?.touched">
        <small *ngIf="productForm.get('category')?.errors?.['required']">Category is required.</small>
      </div>
    </div>

    <button type="submit"  [disabled]="productForm.invalid" >Save</button>
    <button type="button" (click)="onCancel()">Cancel</button>
  </form>
</section>
